{% extends 'layout.html' %}

{% block content %}
{% from "_macros.html" import render_field %}

<style>
    section {
        display: flex;
        flex-wrap: wrap; 
        justify-content: center; 
        gap: 20px; 
        max-width: 1000px; 
        margin: auto; 
    }

    section figure {
        width: 250px;
        height: 250px;
        text-align: center; 
        position: relative; 
    }

    section img {
        width: 100%;
        height: 100%;
        border-radius: 50%;
        object-fit: cover;
        opacity: .8;
        transition: .5s ease;
    }

    section img:hover {
        cursor: crosshair;
        transform: scale(1.1);
        opacity: 1;
        filter: contrast(120%);
    }

    section figcaption {
        position: absolute;
        bottom: -30px; 
        left: 0;
        right: 0;
        margin: 0 auto; 
        font-size: 18px;
        color: #333; 
        background-color: rgba(255, 255, 255, 0.8); 
        padding: 5px 10px; 
        border-radius: 5px; 
    }
</style>

<div class="row">
    <div class="col-md-6 my-3">
        <h1 class="h3 mb-2 text-gray"><i class="fas fa-solid fa-receipt"></i> Recetas</h1>
    </div>

    <div class="col-md-6 my-3 d-flex justify-content-end">
        <button type="button" id="btnInteraccion" class="btn btn-primary" onclick="window.location.href='/nuevaReceta'"><i class="fas fa-plus"></i> Nueva Receta
        </button>
    </div>
</div>

<!-- Imagenes de las galletas -->
<section>
    {% for receta in recetas %}
    <figure>
        <form method="POST" action="{{ url_for('recetas.detalle_recetas') }}">
            <input type="hidden" name="receta_id" value="{{ receta.id }}">
            <button type="submit" class="btn-img" style="background: none; border: none; padding: 0; margin: 0; cursor: pointer;">
                <img src="data:image/png;base64,{{ receta.imagen }}" alt="{{ receta.nombre }}">
            </button>
            <input type="hidden" name="csrf_token" value="{{ csrf_token() }}">
        </form>
        <figcaption>{{ receta.nombre }}</figcaption>
    </figure>
    {% endfor %}
</section>

{% endblock %}
